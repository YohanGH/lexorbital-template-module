#!/usr/bin/env sh

# Trigger: before each `git push`
# Goal: ensure tests and lint pass

echo "ğŸš€ Running pre-push checks..."

echo "ğŸ§ª Running tests..."
npm test
TEST_STATUS=$?

if [ $TEST_STATUS -ne 0 ]; then
  echo "âŒ Tests failed. Push aborted."
  exit $TEST_STATUS
fi

echo "ğŸ¨ Running lint..."
npm run lint
LINT_STATUS=$?

if [ $LINT_STATUS -ne 0 ]; then
  echo "âŒ Lint failed. Push aborted."
  exit $LINT_STATUS
fi

echo "âœ… Pre-push checks passed. Ready to push ğŸš€"
